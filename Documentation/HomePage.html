<!DOCTYPE html>

<style>
   
   .searchBoxDropdownList
   {
      list-style-type: none;
      padding-left: 0;
      border: 1px solid #ddd;
   }
   
   .searchBoxListElement
   {
      visibility: hidden;
      border: 1px solid #ddd;
      margin: 0;
      padding: 8px 16px;
      border-bottom: 1px solid #ddd;
   }
   
   .searchBoxListElement:last-child {
      border-bottom: none;
   }
   
   body
   {
      font-family: "Georgia", "Courier New", "Monaco", "Impact", "Times New Roman";
      font-size: 24px;
      font-style: normal;
   }
   
   .docTitle
   {
      text-align: center;  
   }
   
</style>


<!-- *******************************************************************************************************************************
************************************************************************************************************************************ 
************************************************************************************************************************************
************************************************************************************************************************************
******************************************************************************************************************************** -->


<script>
   
   //------------------------------------------------
   // ------- Trie Implementation -------
   //------------------------------------------------
   // Really wanted this in its own file but I could not
   // get the linking to the other file to work
   
   
   /** 
    *	A single node in a trie
    */
   class TrieNode 
   {
      constructor() 
      {
         // The letter attached to this node. Only the root node should keep this empty
         this.letter = "";
         // Whether this node is the last letter of a word
         this.bIsWord = false;
         // if bIsWord == true then this equals the word
         this.word = "";
         // Child nodes
         this.children = [];
      }
  };
   
   TrieNode.prototype.recursiveFindChildThenAdd = function(str, index)
   {
      for (var i = 0; i < this.children.length; ++i)
      {
         if (this.children[i].letter == str.charAt(index))
         {
            if (index >= str.length)
            {
               console.error("recursiveFindChildThenAdd(): index >= str.length");
            }
            
            index++;
            this.children[i].recursiveFindChildThenAdd(str, index);
            return;
         }
      }

      /* If here then none of the children had the letter. Create a new node with the letter */
      var newNode = new TrieNode();
      newNode.letter = str.charAt(index);
      this.children.push(newNode);
      
      // Check if at end of string
      if (index + 1 == str.length)
      {
         newNode.bIsWord = true;
         newNode.word = str;
      }
      else	
      {
         index++;
         newNode.recursiveFindChildThenAdd(str, index);
      }
   };

   /** Add a word to the trie. This is intended to be called on the root node */
   TrieNode.prototype.insert = function(str) 
   {
      this.recursiveFindChildThenAdd(str, 0);
   };

   /**
    * Get words in the trie that prefix a string
    *
    * @param str - string to get words for 
    * @param index - current position in str 
    * @param words - array of words that str is a prefix for 
    */
   TrieNode.prototype.recursiveGetPrefixedWords = function(str, index, words)
   {
      index++;
      /* Check if this node is a word and it is the same or greater length than str. If yes then add it */
      if (this.bIsWord == true && str.length <= index)
      {
         words.push(this.word);
      }
   
      if (str.length <= index)
      {
         for (var i = 0; i < this.children.length; ++i)
         {
             this.children[i].recursiveGetPrefixedWords(str, index, words);
         }
      }
      else
      {
         for (var i = 0; i < this.children.length; ++i)
         {
            if (this.children[i].letter.toLowerCase() == str.charAt(index).toLowerCase())
            {
               this.children[i].recursiveGetPrefixedWords(str, index, words);
               /* Have commented this return. Reason is the search is case insensitive so if user types "a" 
               then the entry "apple" and "Apple" are both possibilities so cannot return since one might 
               get skipped */
               //return;
            }
         }
      }
   };
   
   
   /** Class declaration: a trie. Contains a hashset and a root node */
   class Trie
   {
      constructor()
      {
         // Should I be using new here? Or is there a better way?

         // A container that holds all the words in the trie
         this.wordsSet = new Set();
         // The root node of the trie
         this.RootNode = new TrieNode();
      }
   };


   /** 
    * Check whether a string has already been added to the trie
    *
    *	@return - true if the string has already been added to the trie.
    */
   Trie.prototype.contains = function(str)
   {
      return this.wordsSet.has(str);
   };

   /**
    * Try add a string to the trie 
    *   
    * @param str - the string to add to the trie 
    */
   Trie.prototype.insert = function(str)
   {
      if (str.length == 0)
      {
         // Avoid adding empty string
         return;
      }
   
      if (this.contains(str))
      {
         // Avoid adding string if it's already in the trie
         return;
      }
      
      this.RootNode.insert(str);
      this.wordsSet.add(str);
   };

   /** 
    * Return all the words in the trie that have str as a prefix 
    *   
    * @param str - prefix string
    * @return - array of words that have str as a prefix 
    */
   Trie.prototype.getPrefixedWords = function(str)
   {
      var words = [];

      if (str.length == 0)
      {
         return words;
      }

      this.RootNode.recursiveGetPrefixedWords(str, -1, words);
      
      return words;
   };
   
   // End trie implementation
   //------------------------------------------------------
   
   function hideSearchBoxDropdownMenu()
   {
      var ul =  document.getElementById("searchBoxDropdownList");
      var li = ul.getElementsByTagName("li");
      
       for (var i = 0; i < li.length; ++i)
      {
         li[i].style.visibility = "hidden";
      }
   }
   
  
   function onSearchBoxTextBoxKeyUp(keyEvent)
   {
      var input = document.getElementById("searchBoxInput");
      var enteredText = input.value; 
      window.searchBoxUserInputedText = enteredText;
      
      var keyCode = (keyEvent.keyCode ? keyEvent.keyCode : keyCode.which);
      // Check if enter was the key
      if (keyCode == 13) 
      {
         // Navigate to the search results page
         location.href = "SearchResults.html";
         return true;
      }
      // Check if left/right arrow was the key
      else if (keyCode == 37 || keyCode == 39)
      {
         // This is optional and is here for performance. Return now to save going through the process of finding prefixed words
         return false;  
      }
      // Check if down arrow was the key
      else if (keyCode == 40)
      {
         // Check if at bottom of suggestion list
         if (window.searchBoxSuggestionHighlightedIndex + 1 == window.searchBoxSuggestions.length)
         {
            return false;
         }
         
         var ul =  document.getElementById("searchBoxDropdownList");
         var li = ul.getElementsByTagName("li");
         
         // Unhighlight the currently highlighted suggestion
         if (window.searchBoxSuggestionHighlightedIndex != -1)
         {
            li[window.searchBoxSuggestionHighlightedIndex].style.backgroundColor = window.searchBoxSuggestionOriginalColor;
         }
         
         // Move down one item on the list
         window.searchBoxSuggestionHighlightedIndex++;
         li[window.searchBoxSuggestionHighlightedIndex].style.backgroundColor = window.searchBoxSuggestionHighlightColor;
         
         // Change the text in the search box to the suggestion
         var textBox = document.getElementById("searchBoxInput");
         textBox.value = li[window.searchBoxSuggestionHighlightedIndex].textContent;
         
         return false;  
      }
      // Check if up arrow was the key
      else if (keyCode == 38)
      {
         // Check if already at top
         if (window.searchBoxSuggestionHighlightedIndex == -1)
         {
            return false;  
         }
         
         var ul =  document.getElementById("searchBoxDropdownList");
         var li = ul.getElementsByTagName("li");
         
         // Unhighlight the currently highlighted suggestion
         if (window.searchBoxSuggestionHighlightedIndex != -1)
         {
            li[window.searchBoxSuggestionHighlightedIndex].style.backgroundColor = window.searchBoxSuggestionOriginalColor;
         }
         
         // Move up one item on the list
         window.searchBoxSuggestionHighlightedIndex--;
         // Check if have moved off first suggestion and onto the search box 
         if (window.searchBoxSuggestionHighlightedIndex == -1)
         {
            // Need to revert text back to what user typed
            var textBox = document.getElementById("searchBoxInput");
            textBox.value = window.searchBoxUserInputedText;
         }
         else
         {
            li[window.searchBoxSuggestionHighlightedIndex].style.backgroundColor = window.searchBoxSuggestionHighlightColor;
         
            // Change the text in the search box to the suggestion
            var textBox = document.getElementById("searchBoxInput");
            textBox.value = li[window.searchBoxSuggestionHighlightedIndex].textContent;
         }
            
          return false;
      }
      
      var ul =  document.getElementById("searchBoxDropdownList");
      var li = ul.getElementsByTagName("li");
      window.searchBoxSuggestions = window.TestTrie.getPrefixedWords(enteredText); 
      
      for (var i = 0; i < li.length; ++i)
      {
         if (window.searchBoxSuggestions.length > i)
         {
            // Show the list item 
            li[i].style.visibility = "visible";
            // Set it's text
            li[i].textContent = window.searchBoxSuggestions[i];
         }
         else
         {
            // Hide the list item
            li[i].style.visibility = "hidden";
         }
      }
      
      if (window.searchBoxSuggestions.length == 0)
      {
         if (window.searchBoxSuggestionHighlightedIndex != -1)
         {
            // Unhighlight highlisted list element
            li[window.searchBoxSuggestionHighlightedIndex].style.backgroundColor = window.searchBoxSuggestionOriginalColor;
            window.searchBoxSuggestionHighlightedIndex = -1;
         }
      }
      
      return true;
   }
   
</script>


<!-- *******************************************************************************************************************************
************************************************************************************************************************************ 
************************************************************************************************************************************
************************************************************************************************************************************
******************************************************************************************************************************** -->


<html>
   <head>
      <title>UE4 RTS Documentation</title>
   </head>
   
  <body>
    <h1 class="docTitle">Documentation</h1>
      
    <!-- Search box. 
Note: only onkeyup is bound to onSearchBoxTextChanged() which isn't good enough cause copy and paste is a thing -->
     <form class="searchBarForm">
        <input type="text" id="searchBoxInput" placeholder="Search..." autocomplete="off">
        <button type="submit">Search</button>
     </form>
     <!-- Dropdown list that predicts what you could be searching for -->
     <ul id="searchBoxDropdownList" class="searchBoxDropdownList">
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
        <li class="searchBoxListElement"><a href="#"></a></li>
     </ul>
     
    <p>
      Documentation is auto generated
    </p>     
     
  </body>
</html>


<!-- *******************************************************************************************************************************
************************************************************************************************************************************ 
************************************************************************************************************************************
************************************************************************************************************************************
******************************************************************************************************************************** -->


<script>
   
   // Root node of trie for testing only
   var TestTrie = new Trie();
   TestTrie.insert("apple");
   TestTrie.insert("apples");
   TestTrie.insert("Apple");
   TestTrie.insert("bat");
   TestTrie.insert("battle");
   TestTrie.insert("bbbbbbbbbbbbbbbbbbbbbbbbbb");
   
   var searchBoxList =  document.getElementById("searchBoxDropdownList");
   var searchBoxListElements = searchBoxList.getElementsByTagName("li");
   
   // The maximum number of suggestions that can be shown 
   var searchBoxNumSuggestionWidgets = searchBoxListElements.length;
   
   /* The list of suggestions when typing in search box */
   var searchBoxSuggestions = [];
   
   /* Which of the search box suggestions is highlighted by the user. -1 means none of them */
   var searchBoxSuggestionHighlightedIndex = -1;
      
   // What the user has inputed into the search box. Does not care about suggestions
   var searchBoxUserInputedText = "";
   
   var searchBoxSuggestionHighlightColor = "#FDFF47";
   
   var searchBoxSuggestionOriginalColor = undefined;
   // Just using the first one - I assume they're all the same
   window.searchBoxSuggestionOriginalColor = searchBoxListElements[0].style.backgroundColor;
   
   var searchBoxInput = document.getElementById("searchBoxInput");
   searchBoxInput.addEventListener("keyup", function(e)
   {
      onSearchBoxTextBoxKeyUp(e);
   }, false);
   
</script>
